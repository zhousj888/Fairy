var red = Color(hex: "#ff0000")
var blue = Color(hex: "#0000ff")
var yellow = Color(hex: "#fbff00")

class Color {
    var _nativeColor
    func init(hex) {
        _nativeColor = __Native.createColor(hex: hex)
    }

    func toNativeObj() {
        return _nativeColor
    }

}

class ViewContainer: View {

    func init() {
        if _trailing_closure {
            var subviewArr = _trailing_closure()
            var index = 0
            if subviewArr.count {
                repeat {
                    self.addSubview(view: subviewArr[index])
                    index = index + 1
                } while index < subviewArr.count
            }

        }
    }

    func addSubview(view) {
        if view {
            __Native.addArrangedSubview(obj: _nativeView, subview: view)
        }
    }

    func toNativeObj() {
        return _nativeView
    }

}

class VStack: ViewContainer {
    func createNativeView() {
        return __Native.createStack(axis: "ver")
    }
}

class HStack: ViewContainer {
    func createNativeView() {
        return __Native.createStack(axis: "hor")
    }
}

class View {
    var _nativeView
    var _width
    var _height
    var _backgroundColor
    var _radius
    func init(width, height, backgroundColor, radius) {
        _nativeView = self.createNativeView()
        self._width = width
        self._height = height
        self._backgroundColor = backgroundColor
        self._radius = radius
        self.setRadius(radius: radius)
        self.setColor(color: backgroundColor)
        self.setSize(width: width, height: height)
    }

    func createNativeView() {
        return __Native.createInstance(className: "UIView")
    }

    func setRadius(radius) {
        if radius {
            __Native.setRadius(obj: _nativeView, radius: radius)
        }
        return self
    }

    func setSize(width, height) {
        if width && height {
            __Native.setViewSize(obj: _nativeView, width: width, height: height)
        }
        return self
    }

    func setColor(color) {
        if color {
            __Native.setValue(obj: _nativeView, key:"backgroundColor", value: color)
        }
        return self
    }
    func toNativeObj() {
        return _nativeView
    }

}

class Spacer: VStack {}

class ImageView: View {

    func init(src) {
        self.setSrc(src: src)
    }

    func setSrc(src) {
        var image = __Native.createImage(src: src)
        __Native.setValue(obj: _nativeView, key:"image", value:image)
        return self
    }

    func createNativeView() {
        return __Native.createInstance(className: "UIImageView")
    }

}

class Label: View {

    func init(text) {
        self.setText(text: text)
    }

    func createNativeView() {
        return __Native.createInstance(className: "UILabel")
    }

    func setText(text) {
        __Native.setValue(obj: _nativeView, key:"text", value:text)
        return self
    }

}










VStack() {
    Spacer(width: 1, height: 50)
    Label(width: 100, height: 20, text: "About WeTV")
    Spacer(width: 1, height: 50)
    ImageView(width: 186, height: 48, src: "wetv", click:test)
    Spacer(width: 1, height: 100)
    HStack() {
        Label(width: 200, height: 50, text: "Version 3.4.0")
        Spacer()
        Label(width: 100, height: 50, text: "Update")
    }
    Spacer(width: 1, height: 50)
    Label(width: 200, height: 50, text: "Find us on Facebook", backgroundColor: blue, radius: 8)
    VStack()
}
